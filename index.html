<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Progressbar & Promises</title>
    <link href="vendor_local/bootstrap-custom.css" rel="stylesheet" />
</head>
<body ng-app="app">
app?{{2+2}}
<div ng-controller="ctrl1 as vm">
    {{3+3}}
    {{vm.name}}
    {{vm.promises}}
    <div>percent complete:{{vm.progress}}</div>
    <div>denominator: {{vm.denominator}}</div>
    <div>promise0 status: {{vm.promises[0]}}</div>
    <button ng-click="vm.getPromiseStatus()">getPromiseStatus</button>
    <button ng-click="vm.getMorePromises()">getMorePromises</button>
</div>
<hr />

<h3>Example 4 : Combined promises</h3>
<div ng-controller="ExampleFourCtrl">
    <form ng-submit="generateCombinedPromises(promises)" role="form">
        <button ng-disabled="promises.length == 0 || promise.progress < 100" type="submit" class="btn btn-default">Submit</button>
        <button ng-disabled="promise" ng-click="add()" class="btn btn-default">Add</button>
        <button ng-disabled="promise && promise.progress != 100" ng-click="reset()" class="btn btn-default" type="reset">Reset</button>
        <br /> <br />
       <div class="row" ng-repeat="promise in promises" ng-controller="ExampleTwoCtrl">
            <div class="col-xs-2 form-group">
                <label class="sr-only" for="delay">Delay:</label> <input ng-model="promise.delay" id="delay" type="number" class="form-control" placeholder="Delay of the promise" required="required">
            </div>
            <div class="col-xs-10 progress">
                <div ng-class="getProgressClass(promise.progress, promise.result)" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{promise.progress}}" aria-valuemin="0"
                     aria-valuemax="100" style="width: {{promise.progress}}%">
                    <span>{{promise.progress}} %</span>
                </div>
            </div>
            <div ng-if="promise.result != null && promise.progress == 100" class="col-xs-12 alert alert-success" role="alert">{{promise.result}}</div>
            <div ng-if="promise.result != null && !(promise.progress == 100)" class="col-xs-12 alert alert-info" role="alert">{{promise.result}}</div>
        </div>
    </form>
    <div class="progress">
        <div ng-class="getProgressClass(promise.progress, promise.result)" class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="{{promise.progress}}" aria-valuemin="0"
             aria-valuemax="100" style="width: {{promise.progress}}%">
            <span>{{promise.progress}} %</span>
        </div>
    </div>
    <div ng-if="promise.result != null && promise.progress == 100" class="alert alert-success" role="alert">{{promise.result}}</div>
    <div ng-if="promise.result != null && !(promise.progress == 100)" class="alert alert-info" role="alert">{{promise.result}}</div>
</div>
<hr />
<progressbar value="30"></progressbar>
<script src="vendor_local/angular.js"></script>
<script src="vendor_local/ui-bootstrap-tpls.js"></script>

<script src="app.js"></script>
<script src="ctrl1.controller.js"></script>
<script src="promise-maker.service.js"></script>
<script src="promise-service.service.js"></script>
<script src="ctrl4.controller.js"></script>
<script src="ctrl2.controller.js"></script>

</body>
</html>